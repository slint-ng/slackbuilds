#Packager: Didier Spaier <didier~at~slint~dot~fr>

pkgname=liblouis
pkgver=3.30.0
pkgrel=2slint
source=("https://github.com/liblouis/liblouis/releases/download/v3.30.0/liblouis-3.30.0.tar.gz")
docs=("AUTHORS" "ChangeLog" "COPYING" "COPYING.LESSER" "AUTHORS" "NEWS" "README")
url=http://liblouis.org/
options=('nosrcpack')

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"Liblouis (braille translator)"
"The Liblouis software suite provides an open-source braille translator"
"back-translator and formatter for a large number of languages and"
"braille codes. It is a set of libraries designed for use in any of a"
"number of applications, both free and commercial. It is written in C"
"thus does not require a runtime environment and hence can be used in"
"applications written in high-level languages such as Java and Python."
)


build() {
	cd $startdir/src/$pkgname-$pkgver
	./configure --prefix=/usr \
		--libdir=/usr/lib${LIBDIRSUFFIX} \
		--docdir=/usr/doc/$pkgname-$pkgver \
		--localstatedir=/var \
		--sysconfdir=/etc \
		--disable-static \
		--enable-ucs4 \
		--build=$arch-slackware-linux
	make -j $numjobs || return 1
	(
		cd python
		python3.11 setup.py install --root=$startdir/pkg
		python3.9 setup.py install --root=$startdir/pkg
	)
	make install DESTDIR=$startdir/pkg
}
