#Maintainer: George Vlahavas (vlahavas~at~gmail~dot~com)

pkgname=depfinder
pkgver=1.4.4
pkgrel=2slint
source=("$pkgname-$pkgver.tar.xz" "new_packages_database_path.diff")
docs=("readme" "install" "copying" "changelog" "authors" "news" "todo" "maintainers" "translators")
options=('nosrcpack')

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"depfinder (finds dependencies of Slackware packages)"
"depfinder is a tool that finds the dependencies of Slackware"
"packages and outputs them in a comma separated list, in stdout or a"
".dep file. depfinder is very fast at calculating dependencies; the"
"speed difference mainly comes from the C++ code that is used to find"
"in which package each individual library is included. That C++ code is"
"'borrowed' (as in blatanly ripped) from Nigel Bosch's zpm code."
"depfinder also has support for running multiple jobs which makes it a"
"*lot* faster on PCs with multiple CPUs/cores."
)


build() {
	cd $startdir/src/$pkgname-$pkgver
	patch -p1 --verbose < $SRC/new_packages_database_path.diff || exit 1
	make
	make install DESTDIR=$startdir/pkg
}
