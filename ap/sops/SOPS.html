<h1 id="sops">SOPS</h1>
<p>With the <a href="https://github.com/chrys87/simple-orca-plugin-system">Simple Orca Plugin System</a> (SOPS) you can extend the functionality of the Orca screen reader. It offers the possibility to add plug-ins in nearly any programming language in an easy way. The settings for the plug-ins are controlled via the filename.</p>
<h2 id="setup">Setup</h2>
<p>To setup the plug-in system for the current user, run: </p>
<h2 id="administration">Administration</h2>
<h3 id="basics">Basics</h3>
<ul>
<li>The Installation path. This contains the default plug-ins, the documentation,the plugin loader and the administration tools:</li>
</ul>
<dl>
<dt></dt>
<dd>
</dd>
</dl>
<ul>
<li>The path for user plug-ins is:</li>
</ul>
<dl>
<dt></dt>
<dd>
</dd>
</dl>
<ul>
<li>The following path is used for all enabled (active) plug-ins. All plug-ins in that folder will be loaded, if they are valid:</li>
</ul>
<dl>
<dt></dt>
<dd>
</dd>
</dl>
<h3 id="administration_tools">Administration tools</h3>
<p>The tools are located in the "tools" folder beneath the installation directory. The following command enables/activates a plug-in, but you have to rename the filename to create a shortcut and pass a command to the plug-in:</p>
<p><code>$ </code><em><code>./ensop</code><code> </code><pluginname></em></p>
<p>The command to disable and unload a plug-in is:</p>
<p><code>$ </code><em><code>./dissop</code><code> </code><pluginname></em></p>
<p>Both commands basically just create or delete links in  and make the plug-ins executable. You have to configure the plug-ins manually. Restart Orca to reload the plug-ins after changes. SOPS also provides a plug-in manager, it is available after the installation. To open the plug-in manager use  while Orca is running. It can be used to activate, deactivate, install or configure plug-ins. Orca gets re-started automatically after closing the plug-in manager.</p>
<h2 id="plug_ins">Plug-ins</h2>

<h3 id="structure_of_the_filename">Structure of the filename</h3>
<p>The shortcut, plug-in type and preference of a plug-in are controlled by its filename. The descriptive part of the filename has to be separated from the preferences part with . The commands, modifier and the key has to be separated by .</p>
<p><description><code>__-__[</code><command><code>__+__command...][__+__</code><modifier><code>__+__</code><modifier><code>__+__key_</code><key><code>].ext</code></p>
<h3 id="run_a_plug_in">Run a plug-in</h3>
<p>There are two different ways to run a plug-in:</p>
<ul>
<li>shortcut (See <a href="#Modifiers/_Shortcuts" title="wikilink">#Modifiers/ Shortcuts</a>)</li>
<li>exec run once when the plug-in loads. (See <a href="#Commands/_Preferences" title="wikilink">#Commands/ Preferences</a>)</li>
</ul>
<p>If none of those are present. the plug-in does not load. There are some more <a href="#Commands/_Preferences" title="wikilink">#Commands/ Preferences</a> to control the behaviour of a plug-in.</p>
<h4 id="modifiers_shortcuts">Modifiers/ Shortcuts</h4>
<p>With modifiers you can set different shortcut combinations for a . You always have to press the Orca-modifier. The order of the three modifier keys does not matter:</p>
<ul>
<li><p>is the modifier for the  key on the keyboard</p></li>
<li><p>is the modifier for the  key on the keyboard</p></li>
<li><p>is the modifier for the  key on the keyboard</p></li>
<li><p>defines the basic shortcut that is used for the plug-in, maybe together with the defined modifiers (example_plugin__-__key_d.sh uses ).</p></li>
</ul>
<h5 id="valid_shortcuts">Valid shortcuts</h5>
<p>Only a few combinations of modifiers are valid. Those are predefined by Orca. Valid combinations are:</p>
<ul>
<li><p>i.e. </p></li>
<li><p>i.e. </p></li>
<li><p>i.e. </p></li>
<li><p>i.e. </p></li>
<li><p>i.e. </p></li>
</ul>
<p>As  you can use every alphanumerical key.</p>
<h4 id="commands_preferences">Commands/ Preferences</h4>
<p>Preferences for plug-ins are called commands. A command defines the action to pass to the plug-in. With commands you control the behaviour of the plug-ins. You may add more than one command. The order of the commands does not matter. You can use them mostly for all kinds of plug-ins.</p>
<ul>
<li><p>announces "start <description>" before the plug-in is executed. It is useful as feedback for plug-ins with longer progress times. (all plug-ins)</p></li>
<li><p>announces "finish <description>". This is useful as feedback for plug-ins with no output. (all plugins)</p></li>
<li><p>do not start the plug-in in a thread. Be careful, as this locks Orca until the plug-in is finished. By default, plug-ins each run in a dedicated thread. (all plug-ins)</p></li>
<li><p>announces returned errors. (all plug-ins)</p></li>
<li><p>ignores the output of STDOUT. This is useful for plugins that may have a UI and do not pass output to STDOUT. (sub process plug-in only)</p></li>
<li><p>passes the parameters to the plug-in. (sub process plug-in only)</p></li>
<li><p>run the plug-in once while loading it. Mostly useful as advanced-plug-in. (all plug-ins)</p></li>
<li><p>does not load as a sub process plug-in but loads it as advanced plug-in. (advanced plug-in only)</p></li>
</ul>
<h4 id="examples">Examples</h4>
<ul>
<li><p>Run with  and announce the start of the process.</p></li>
<li><p>Run with  and announce the finishing. Does also read occurring errors .</p></li>
<li><p>Run with </p></li>
<li><p>Run once at starting Orca.</p></li>
</ul>
<h3 id="types_of_plug_ins">Types of plug-ins</h3>
<p>Basically there are two different types of plugins.</p>
<h4 id="sub_process_plug_ins">Sub process plug-ins</h4>
<p>Sub process plug-ins are simple plug-ins and the default type. They may be any type of application or script that writes to STDOUT or STDERR. Orca executes the plug-in, reads from STDOUT/ STDERR and announces the result to the user, when the defined shortcut is pressed or the plug-in is executed via  while starting screen reader.</p>
<h5 id="requirements">Requirements</h5>
<ul>
<li>Execution permission</li>
<li><p>or  have to be defined in the filename.</p></li>
</ul>
<h5 id="example">Example</h5>
<p>Say "Hello World when pressing : Filename: </p>
<h4 id="advanced_plug_ins">Advanced plug-ins</h4>
<p>Those type of plug-ins are loaded with the spec.loader.exec_module. you can load them by using  in the filename. They are fully included into Orca as soon as it starts. Advanced plug-ins are more powerful, because you are able to work in the Orca context. They are mostly similar to the . See also for "real" Orca scripting: <a href="https://wiki.gnome.org/Projects/Orca/FrequentlyAskedQuestions/CustomizingOrca">https://wiki.gnome.org/Projects/Orca/FrequentlyAskedQuestions/CustomizingOrca</a></p>
<h5 id="requirements_1">Requirements</h5>
<ul>
<li>Correct code written in python3</li>
<li>Fileextension </li>
<li>Use  in the filename</li>
<li><p>or  have to been defined in filename</p></li>
</ul>
<h5 id="example_1">Example</h5>
<p>Configure Orca to speak/braille the word "bang" instead of the "!" while loading the plug-in. Filename: </p>
<h2 id="plug_in_hosting">Plug-in hosting</h2>
<p>You can also host plug-ins, making them available for installation via the plug-in manager. If you want to Host plug-ins, read: </p>
<p>The default online resource is: <a href="https://stormdragon.tk/orca-plugins/index.php">https://stormdragon.tk/orca-plugins/index.php</a></p>
