# Maintainer: Lukas Fleischer <lfleischer@archlinux.org>
# Maintainer: Jaroslav Lichtblau <svetlemodry@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Hugo Doria <hugodoria at gmail.com>

# Included in Slint by Didier Spaier didieratslintdotfr

pkgname=translate-toolkit
pkgver=3.8.4
pkgrel=1slint
slackdesc=("$pkgname (A toolkit to convert between translation formats)"
"$pkgname helps process and validate localisations")
url="https://toolkit.translatehouse.org/"
docs=("COPYING" "CREDITS" "LICENSEs" "README.rst")
license=('GPL')
depends=('bash' 'python-lxml' 'python-six' 'python-diff-match-patch')
makedepends=('python-setuptools')
optdepends=('gaupol: for po2sub'
            'python-chardet: encoding detector'
            'python-levenshtein: faster matching'
            'python-cheroot: for TM Server')
source=(https://github.com/translate/translate/archive/$pkgver.tar.gz)
sha256sums=('dd82e3b2ba865617051ccec130eb8254aa34edeeaffaa47553e791aae9d62227')

build() {
  cd $SRC/translate-$pkgver
#  patch -p1 --verbose < $SRC/python3.5_compat.patch  || exit 1
  python3 -s setup.py install --root=$PKG --optimize=1
  python3 -m compileall $PKG/usr/lib64/python3.9/site-packages/translate
}
