# Maintainer: George Vlahavas <vlahavas~at~gmail~dot~com>
# Adapted for Slint by Didier Spaier didieratslintdotfr

pkgname=salix-update-notifier
pkgver=1.0.0
pkgrel=1slint
source=(salix-update-notifier.patch \
	"https://download.salixos.org/x86_64/15.0/source/xap/salix-update-notifier/${pkgname}-${pkgver}.tar.xz")
docs=("readme" "install" "copying" "changelog" "authors" "news" "todo" "translators")
options=('noautodotnew' 'nosrcpack')
dotnew=('etc/salix-update-notifier.conf')

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"salix-update-notifier (tray notification for package updates)"
"salix-update-notifier runs slapt-get at regular intervals to determine"
"if there are any package updates available in the repositories. If any"
"updated packages are found, then a tray notification is displayed that"
"requests for user interaction. The user is provided the option to"
"perform the updates using gslapt."
)


build() {
	cd $SRC/${pkgname}-$pkgver
	echo pwd=$(pwd)
	patch --verbose -p1 < $SRC/salix-update-notifier.patch || exit 1
	make
	make install DESTDIR=$PKG PREFIX=/usr
}
