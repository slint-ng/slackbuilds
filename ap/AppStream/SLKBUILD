#Packager: George Vlahavas (vlahavas~at~gmail~dot~com)
# included in Slint by Didier Spaier didieratslint.fr
pkgname=AppStream
pkgver=1.0.4
pkgrel=1slint
#arch=noarch
source=("https://www.freedesktop.org/software/appstream/releases/AppStream-${pkgver}.tar.xz")
#sourcetemplate=http://people.salixos.org/yournick/$pkgname/$pkgver/
docs=("readme" "install" "copying" "changelog" "authors" "news" "todo")
url=https://www.freedesktop.org/wiki/Distributions/AppStream/

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"appstream (a standard for creating app stores across distributions)"
"AppStream is a cross-distribution effort for enhancing the way we"
"interact with the software repositories provided by (Linux)"
"distributions by standardizing software component metadata."
)


build() {
	cd $startdir/src/AppStream-$pkgver
	meson setup \
		--prefix=/usr \
		--libdir=/usr/lib${LIBDIRSUFFIX} \
		--infodir=/usr/info \
		--localstatedir=/var \
		--mandir=/usr/man \
		--sysconfdir=/etc \
		--strip \
		-Dcompose=true \
		-Dvapi=true \
		-Dqt=false \
		-Dstemming=false \
		-Dsystemd=false \
		-Ddocs=false \
		-Dapidocs=false \
		build
	meson compile -C build -j $numjobs
	meson install -C build --destdir $startdir/pkg/
} 
