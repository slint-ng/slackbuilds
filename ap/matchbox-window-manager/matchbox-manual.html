<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Matchbox Manual</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="mbmanual"></a>Matchbox Manual</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Matthew</span> <span class="surname">Allum</span></h3><div class="affiliation"><span class="orgname">OpenedHand Ltd<br></span></div><code class="email">&lt;<a class="email" href="mailto:mallum@openedhand.com">mallum@openedhand.com</a>&gt;</code></div></div><div><p class="releaseinfo">
      This is version 1.0 of The Matchbox manual.
    </p></div><div><p class="copyright">Copyright © 2005 OpenedHand Ltd</p></div><div><div class="legalnotice"><a name="id1338"></a><p>
        Permission is granted to copy, distribute and/or modify this
        document under the terms of the <em class="citetitle">GNU Free
	  Documentation License</em>, Version 1.1 or any later
        version published by the Free Software Foundation with no
        Invariant Sections, no Front-Cover Texts, and no Back-Cover
        Texts. You may obtain a copy of the <em class="citetitle">GNU Free
	  Documentation License</em> from the Free Software
        Foundation by visiting <a class="ulink" href="http://www.fsf.org" target="_top">their Web site</a> or by writing
        to: Free Software Foundation, Inc., 59 Temple Place - Suite
        330, Boston, MA 02111-1307, USA.
      </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#intro">Introduction</a></span></dt><dt><span class="section"><a href="#rational">Rational</a></span></dt><dt><span class="section"><a href="#wm">Matchbox Window Manager</a></span></dt><dd><dl><dt><span class="section"><a href="#wmusage">Runtime Usage And Configuration</a></span></dt><dt><span class="section"><a href="#wmthemes">Themes</a></span></dt><dt><span class="section"><a href="#wmkeys">Shortcut keys</a></span></dt><dt><span class="section"><a href="#wmapps">Included Utilities</a></span></dt><dt><span class="section"><a href="#id1341">Management dynamics</a></span></dt></dl></dd><dt><span class="section"><a href="#panel">Matchbox Panel</a></span></dt><dd><dl><dt><span class="section"><a href="#id1342">Usage And Configuration</a></span></dt><dt><span class="section"><a href="#panelapps">Panel Applications</a></span></dt></dl></dd><dt><span class="section"><a href="#mbdesktop">Matchbox Desktop</a></span></dt><dd><dl><dt><span class="section"><a href="#id1349">Usage And Configuration</a></span></dt><dt><span class="section"><a href="#id1350">Plugin Modules</a></span></dt><dt><span class="section"><a href="#id1351">Adding Icons And Folders</a></span></dt></dl></dd><dt><span class="section"><a href="#help">Obtaining Further Help</a></span></dt><dt><span class="section"><a href="#authors">Authors</a></span></dt><dt><span class="section"><a href="#license">License</a></span></dt><dt><span class="section"><a href="#building">Appendix I: Building Matchbox from source.</a></span></dt><dd><dl><dt><span class="section"><a href="#id1352">Inter Dependencies</a></span></dt><dt><span class="section"><a href="#id1353">Automated building</a></span></dt><dt><span class="section"><a href="#id1354">Building from SVN</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>Introduction</h2></div></div></div><p>
      The Matchbox project aims to increase X Windows practicality and
      usability on embedded type hardware by providing a number of
      interchangeable tools that make up a flexible lightweight base
      user interface.

    </p><p>
      
      This includes at its a core a stack based PDA style window
      manager. Also included is a panel or dock, a PDA style launcher,
      software input methods and more.
      
    </p><p>
      
      This manual outlines the usage of the projects core
      applications.  For newer applications not covered here refer to
      the individual package's README file or doc directory.
      
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rational"></a>Rational</h2></div></div></div><p>
      With the creation of <a class="ulink" href="http://handhelds.org" target="_top">Handhelds.org</a> and its communitys work with to
      make Linux and X Windows run efficiently on iPaq devices it soon
      became apparent to me, as an avid handhelds.org hacker, that pre
      existing X11 window managers were a poor fit on a device with
      such low resources, a small 240x320 display and very limited
      input mechanisms ( no keyboard, touchscreen ). To improve on
      this situation, Matchbox window manager was born.
    </p><p>
      The plan was to leverage the huge amount of existing X11
      applications and toolkits and attempt to make them usable on
      such a device with little or no modification. This would also
      make embedded application development more familiar and easier
      for existing desktop orientated developers.
    </p><p>

      As the project grew, more features were added to the window manager, and where
      practical, more support for other desktop standards and
      protocols ( see <a class="ulink" href="http://freedesktop.org" target="_top">freedesktop.org</a> ) were added as
      well as new supporting applications such as the matchbox panel and desktop. 
      </p><p>

      Nowadays matchbox is used on a wide range of non desktop type embedded devices. Matchbox's build and run time flexibility allow it to be tailored to a target platforms resources, feature requirements and physical form.

    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="wm"></a>Matchbox Window Manager</h2></div></div></div><p>
      
      The Matchbox window manager is responsible for managing X11
      client window geometry and stacking order, as well as providing
      decorations and controls to the window borders. Matchbox's style
      of management is restrictive in nature, setting application
      windows with a maximized static geometry in a browsable stack or
      deck with only one application being visible at any
      time. Different, though applicable, rules apply to
      other window types such as dialogs, panels and input method
      windows. The design is such as to make application
      management on platforms with small displays and limited input
      mechanisms more useable.
      
    </p><p>
      
      Through standardized client window property hints, themeing and
      both runtime and build time options, matchbox-window-manager
      provides much flexibility for tailoring to a particular embedded
      UI style both in look and feel.
      
    </p><p>
      
      Matchbox window manager is included in the
      <code class="filename">matchbox-window-manager</code> package, which is
      part of the Matchbox project. This document describes version
      1.0 of Matchbox window manager.
      
    </p><p>
      The window manager is the matchbox project's most developed and
      core application.
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wmusage"></a>Runtime Usage And Configuration</h3></div></div></div><p>
	With an X Server running and the <code class="envar">DISPLAY</code>
	environment variable set correctly, run matchbox window manager
	via;
      </p><p>
	
	<strong class="userinput"><code>
	  matchbox-window-manager [options]
	</code></strong>
	
      </p><p>
	
	Matchbox window manager supports optional configuration via
	command line options and/or X Resource settings (
	    if X Resource support is disabled at build time this will
	    not work. ). For general usage one should not need to set any
	command line options.
	
      </p><p>
	
	X Resources are usually set options per user in <code class="filename">~/.Xdefaults</code>
	and globally in <code class="filename">(install prefix)/share/matchbox/defaults</code>.
	
	
      </p><p>
	
	Command line options take precedence over both of these.
	
      </p><p>
	Options, are;
	
	</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><strong class="userinput"><code>-display &lt;string&gt;</code></strong></span></dt><dd><p>
		
		Specify the X Server for matchbox to connect
		to. Defaults to <code class="envar">DISPLAY</code> environment
		variable.
		
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-theme &lt;string&gt;</code></strong></span></dt><dd><p>
		
		Specify the theme name to use, describing the window
		managers' look and feel'. The directory's; <code class="filename">
		~/.theme/[theme name]/matchbox</code> and
		<code class="filename">(install prefix)/share/themes/[themename]/matchbox</code> will be checked for a valid
		theme.xml file. If the file is not found or invalid,
		matchbox will revert to its default theme (
		<code class="filename">(install
		prefix)/share/themes/Default/matchbox</code> )
		
	      </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
		  Themeing will not be available if matchbox is
		  compiled with the
		  <span class="emphasis"><em>--enable-standalone</em></span> option.
		</p></div><p>
		
		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.theme</em></span> .
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_titlebar
		&lt;yes|no&gt;</code></strong></span></dt><dd><p>
		
		Specify whether if application windows have title bar
		decorations. Defaults to yes.
		
	      </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
		  
		  This option is useful if you are running Matchbox on
		  platforms where you intend to run just one
		  application, or you want all applications to run
		  'full screen' - a set-top box style environment for
		  example. Dialog windows will however be decorated.
		  
		</p></div><p>
		
		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.titlebar</em></span> .
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_lowlight
		&lt;yes|no&gt;</code></strong></span></dt><dd><p>
		Enables an effect to make modal dialog windows 'super'
		modal. All other windows are low-lighted out. This
		option is <span class="emphasis"><em>EXPERIMENTAL</em></span> and alway
		active in a composite enabled build.
	      </p><p>
		
		Dialog windows must specify they are modal for this
		option to work.
		
	      </p><p>
		
		The low-lighted color is specified by the current
		theme.xml file.
		
	      </p><p>
		
		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.lowlight</em></span> .
		
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_dialog_mode
		&lt;free|const|const-horiz&gt;</code></strong></span></dt><dd><p>
		
		Decides the strategy the window manager uses to position
		and resize dialogs. By default, dialogs will be restrained
		to fit on the display not covering any panels or
		input/toolbar windows.
	      </p><p>
		
		<span class="emphasis"><em>free</em></span>, will remove any window manager
		intervention.
	      </p><p>

		<span class="emphasis"><em>static</em></span>, the user cannot change dialog
		position or stacking order.

	      </p><p>

		<span class="emphasis"><em>const-horiz</em></span> is like the 'const'
		option but will make all dialogs the full screen width and
		allow movement only in the vertical.

	      </p><p>

		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.dialog</em></span> .
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_desktop_mode
		&lt;decorated|plain&gt;</code></strong></span></dt><dd><p>

		Decides if desktop' windows ( such as Nautilus or
		matchbox-desktop ) are decorated or 'fullscreen'. Defaults
		to plain.

	      </p><p>

		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.desktop</em></span> .

	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_cursor
		&lt;yes|now&gt;</code></strong></span></dt><dd><p>

		If enabled, an attempt is made to hide the mouse cursor
		completely. This can be overridden by applications such as
		xterms.

	      </p><p>

		</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
		    This option will likely be depreciated in future
		    releases, as it does not provide a 100% solution.
		  </p><p>
		    An improved way of providing this effect is to use
		    libXcursor with a 'blank' ( eg all cursors are fully
		    alpha ) theme. See <a class="ulink" href="http://projects.o-hand.com/matchbox/sources/utils/" target="_top">http://projects.o-hand.com/matchbox/sources/utils/</a>.  </p></div><p>
		
	      </p><p>

		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.cursor</em></span> .

	      </p></dd><dt><span class="term"><strong class="userinput"><code>-use_super_modal
		&lt;yes|now&gt;</code></strong></span></dt><dd><p>

		If enabled, dialog windows setting there modal hint
                are made 'super' modal, in that when active all other
                user window interaction is blocked.

	      </p><p>

		This option should be considered experimental and
		likely to change.

	      </p><p>

		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.supermodal</em></span> .

	      </p></dd><dt><span class="term"><strong class="userinput"><code>-force-dialogs &lt;comma separated name
		list&gt;</code></strong></span></dt><dd><p>
		Specify a comma separated list of window titles, whose
		windows when matched are <span class="emphasis"><em>forced</em></span> to be
		treated as dialogs rather than application windows. It is
		advised not to use this option, but adapt the required
		application to set the correct windows hints.
	      </p><p>
		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.forcedialogs</em></span> .
		
	      </p></dd><dt><span class="term"><strong class="userinput"><code>--sm-client-id &lt;session manager client
		ID&gt;</code></strong></span></dt><dd><p>
		Specify the session manager client ID. Only used if
		built with session manager support. 
	      </p><p>
		The corresponding X Resource key is
		<span class="emphasis"><em>matchbox.session</em></span> .
		
	      </p></dd><dt><span class="term"><strong class="userinput"><code>-help</code></strong></span></dt><dd><p>
		Display a brief help message and build configuration
		details.
	      </p></dd></dl></div><p>

      </p><p>
	Matchbox window manager also uses environment variables for advanced
	usage. These are </p><p>

	</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="envar">MB_SYNC</code></span></dt><dd><p>
		If set all X11 communication will be synchronous, only used
		for debugging.
	      </p></dd><dt><span class="term"><code class="envar">MB_HUNG_APP_HANDLER</code></span></dt><dd><p>
		Specify the full path to a binary to be optionally called
		to handle a 'hung' application. It will be the passed both
		the process ID and window ID of the hung application.
	      </p></dd></dl></div><p>

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wmthemes"></a>Themes</h3></div></div></div><p>

	The window manager is fully theme-able. Themeing is configured by
	simple XML files found in
	  <code class="filename">(install prefix)/share/themes/[selected theme name]/matchbox</code> .

      </p><p>

	See the 'blondie' theme.xml file for details on the format or read
	the <a class="ulink" href="../themes/index.html" target="_top">Matchbox
	  Themeing-Howto</a>.
      </p><p>

	As well as being selected on startup, themes can be changed 'on
	the fly;. There are various ways to do this.

      </p><p>

	The easiest way is to use
	matchbox-remote to change the current theme;

      </p><p>
	<strong class="userinput"><code>matchbox-remote -t &lt;theme name&gt; </code></strong>
      </p><p>

	Alternatively if you compiled with XSettings support, you will be
	able to use the Gnome2 / GPE / KDE3 desktop configuration tools to
	change the theme. The XSettings key used is
	<code class="filename">Net/ThemeName</code>. Using XSettings allows the
        window manager theme to change with the toolkit theme.

      </p><p>

	The Window Manager distribution tarball contains three themes:
	Default - a rather plain and simple default theme, blondie - a bells and whistles PNG based theme for PDA's, MBOpus - a theme for larger
	displays.

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wmkeys"></a>Shortcut keys</h3></div></div></div><p>

	The window manager has redefinable shortcut keys which can be used
	to perform window operations or launch applications. The location of
	the config file is <code class="filename">(install prefix)/share/matchbox/kbdconfig</code> , this can be
	overridden by the user having a <code class="filename">~/.matchbox/kdbconfig</code> file.

      </p><p>

	The config file is made up of one definition per line each in the
	format

      </p><p>

	</p><pre class="screen">
	  &lt;keys definition&gt;=&lt;action&gt;
	</pre><p>

      </p><p>
	
	'Keys Definition' consists of an optional series of modifier keys
	in angle brackets followed by the actual key symbol. Action can be
	one of next, prev, close, taskmenu, hidetitle, fullscreen and
	desktop for various window operations.

      </p><p>

	The action can be prefixed with special characters to launch
	applications.  Prefixes are;

	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
	      <strong class="userinput"><code>!</code></strong>  Launch application with just a standard fork-exec.
	    </p></li><li class="listitem"><p><strong class="userinput"><code>!!</code></strong>  Launch application with
	      'startup-notification' - provides feedback of application
	      startup cycle.</p><p>Application must support startup
	      notification ( eg uses GTK 2.2 or above )</p></li><li class="listitem"><p><strong class="userinput"><code>!$</code></strong> Launch or raise preexisting application,
	      keeping just a single instance running. [1]
	    </p></li></ul></div><p>

      </p><p>

	For example

      </p><p>

	</p><pre class="screen">
	  &lt;ctrl&gt;&lt;alt&gt;p=prev
	</pre><p>

      </p><p>


	Binds the combination of alt, ctrl and p to show the previous
	window.

      </p><p>

	</p><pre class="screen">
	  &lt;ctrl&gt;x=!xterm
	</pre><p>

      </p><p>

	Binds the combination of ctrl x to launch an xterm.
      </p><p>
	See the installed kbdconfig file for more examples.
      </p><p>

	The matchbox window manager can be configured to use gconf to store
	keyboard shortcuts - the kbdconfig file will then be ignored. The
	advantage of using gconf is the shortcuts can be changed on the fly
	without requiring a restart of the window manager.

      </p><p>

	The 'action' syntax is the same as above. You should use gconftool
	or gconf-editor to set documented keys under <code class="filename">/apps/matchbox</code>.

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wmapps"></a>Included Utilities</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1339"></a>matchbox-session</h4></div></div></div><p>
	  A very simple shell script to start Matchbox window manager, desktop
	  and panel ( if available ). Run as part of your X startup scripts ( eg. <code class="filename">~/.xinitrc</code> or from the command line via;    
	</p><p>
	<strong class="userinput"><code>matchbox-session</code></strong>
        </p><p>
	  The file will check for in order and exec <code class="filename">~/.matchbox/session</code> and <code class="filename">/etc/matchbox/session</code> if they
	  exist.
	</p><p>

	  If they don't exist sensible defaults will be run. The reasoning
	  behind this file is that distributions containing Matchbox can easily
	  tailor startup options ( by supplying a <code class="filename">/etc/matchbox/session</code> ) for
	  their platform.

	</p><p>
	  Matchbox window manager can be built with basic 'real' X11 session
	  manager support. If so, this should be used instead of the
	  matchbox-session mechanism.
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1340"></a>matchbox-remote</h4></div></div></div><p>
	  A command line tool to externally control Matchbox. Launch via;
	</p><p>
	<strong class="userinput"><code>matchbox-remote [options]</code></strong>
        </p><p>
	options are;
        </p><p>
	  </p><div class="table"><a name="id1355"></a><p class="title"><b>Table 1. matchbox-remote command line options</b></p><div class="table-contents"><table class="table" summary="matchbox-remote command line options" border="1"><colgroup><col><col><col></colgroup><thead><tr valign="top"><th align="left" valign="top">Option</th><th align="left" valign="top">Value Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr valign="top"><td align="left" valign="top">-theme</td><td align="left" valign="top">Theme name</td><td align="left" valign="top">switch Matchbox
		    theme</td></tr><tr valign="top"><td align="left" valign="top">-r</td><td align="left" valign="top">na.</td><td align="left" valign="top">Print current Matchbox
		    theme to stdout </td></tr><tr valign="top"><td align="left" valign="top">-exit</td><td align="left" valign="top">na.</td><td align="left" valign="top">Request Matchbox window
		    manager to exit</td></tr><tr valign="top"><td align="left" valign="top">-next</td><td align="left" valign="top">na.</td><td align="left" valign="top">Request Matchbox window
		    manager to 'page' to next window</td></tr><tr valign="top"><td align="left" valign="top">-prev</td><td align="left" valign="top">na.</td><td align="left" valign="top">Request Matchbox window
		    manager to 'page' to previous window</td></tr><tr valign="top"><td align="left" valign="top">-desktop</td><td align="left" valign="top">na.</td><td align="left" valign="top">Request Matchbox
		    window manager to toggle desktop visibility</td></tr><tr valign="top"><td align="left" valign="top">-mbmenu</td><td align="left" valign="top">na.</td><td align="left" valign="top">activate
		    mb-applet-menu-launcher ( if running )</td></tr><tr valign="top"><td align="left" valign="top">-input-toggle</td><td align="left" valign="top">1|0</td><td align="left" valign="top">Toggles
		    selected input method active via mb-input-manager ( if running
		    )</td></tr><tr valign="top"><td align="left" valign="top">-composite-toggle</td><td align="left" valign="top">na.</td><td align="left" valign="top">Toggles
		    compositing on/off. ( if matchbox-window-manager is built with
		    composite support )</td></tr></tbody></table></div></div><p><br class="table-break">
	</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1341"></a>Management dynamics</h3></div></div></div><p>
	This section is intended for application authors who want to
	better integrate there applications with matchbox window manager
	rather than being for general users
      </p><p>
        Matchbox window manager uses the EWMH hints and tranciency to identify how a window should be managed and stacked.  
      </p><p>
      <span class="emphasis"><em>TO COMPLETE</em></span>	
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="panel"></a>Matchbox Panel</h2></div></div></div><p>

      The Matchbox panel is a lightweight, always visible application that
      occupy s a rectangular area of the display.  It is intended to hold
      applets such as application launchers, and simple user information
      type tools, such as a battery power level monitor or clock.

    </p><p>
      
      The panel can supports different orientations and sizes. It conforms
      to the <a class="ulink" href="http://www.freedesktop.org/Standards/systemtray-spec" target="_top">System
	Tray Protocol specification</a> for 'docking' applets.

    </p><p>

      The panel optionally features simple session management to remember
      what apps are 'parented', and a popup menu to add / remove apps. The
      popup menu is enabled by clicking and holding on a free area of the
      panel.

    </p><p>

      The Matchbox panel is included in the
      <code class="filename">matchbox-panel</code> package, which is part of the
      Matchbox project. A number of simple panel 'applets' are also
      included. This document describes version 0.9 of the matchbox
      panel.

    </p><p>
      Other panels conforming to <a class="ulink" href="http://www.freedesktop.org/Standards/" target="_top">EWMH
	specifications</a> such as the GNOME and KDE panels or your own
      creation can be used with matchbox window manager.

    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1342"></a>Usage And Configuration</h3></div></div></div><p>

 With an X Server running and the DISPLAY  environment variable set correctly, run matchbox panel via;

      </p><p>
      
	  <strong class="userinput"><code>matchbox-panel [options]</code></strong>
      </p><p>
      Options are;
      </p><p>

	</p><div class="table"><a name="id1356"></a><p class="title"><b>Table 2. Matchbox Panel command line options</b></p><div class="table-contents"><table class="table" summary="Matchbox Panel command line options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th align="left">Option</th><th align="left">Value Type</th><th align="left">Description</th></tr></thead><tbody><tr valign="top"><td align="left" valign="top">-display, -d</td><td align="left" valign="top">string - X11 Display
		  name</td><td align="left" valign="top"> Specify the X Server for the panel to
		  connect to. Defaults to <code class="envar">DISPLAY</code> environmental
		  variable.
		</td></tr><tr valign="top"><td align="left" valign="top">--id</td><td align="left" valign="top">integer</td><td align="left" valign="top">Specify a
		  unique id for the panel. This is needed if you wish to run
		  multiple panels.</td></tr><tr valign="top"><td align="left" valign="top">--orientation</td><td align="left" valign="top">north|east|south|west</td><td align="left" valign="top">Specify what edge on
		  the display the panel should be located</td></tr><tr valign="top"><td align="left" valign="top">--margins</td><td align="left" valign="top">&lt;left/right&gt;[,
		  &lt;top/bottom&gt;] panel applet offsets in pixels</td><td align="left" valign="top">Specify panel margin around applets. Defaults to
		  2,2</td></tr><tr valign="top"><td align="left" valign="top">--padding</td><td align="left" valign="top">&lt;int&gt; </td><td align="left" valign="top">Specify spacing between panel applets in pixels</td></tr><tr valign="top"><td align="left" valign="top">--titlebar</td><td align="left" valign="top"> </td><td align="left" valign="top">Requests the
		  panel is re-parented in the window titlebar. See below for
		  limitations.</td></tr><tr valign="top"><td align="left" valign="top">--size</td><td align="left" valign="top">size in pixels</td><td align="left" valign="top">Specify
		  the height/width of panel</td></tr><tr valign="top"><td align="left" valign="top">--no-session, -ns</td><td align="left" valign="top">na</td><td align="left" valign="top">Disable the panels sessioning mechanism</td></tr><tr valign="top"><td align="left" valign="top">--default-apps, -da</td><td align="left" valign="top">Comma separated
		  list of panel apps or 'none'</td><td align="left" valign="top">Specify a list of
		  apps to be started in order when a session file does not
		  exist. If set to 'none' no default panel apps are started.
		</td></tr><tr valign="top"><td align="left" valign="top">--no-menu, -nm</td><td align="left" valign="top">na</td><td align="left" valign="top">Diable
		  the panels popup menu</td></tr><tr valign="top"><td align="left" valign="top">--overide-bubbles, -o</td><td align="left" valign="top">na</td><td align="left" valign="top">If panel message bubbles are decorated by your chosen
		  window manager, use this option as a workaround</td></tr><tr valign="top"><td align="left" valign="top">--bgcolor, -c</td><td align="left" valign="top">#rrggbb</td><td align="left" valign="top">Specify a background color for the dock</td></tr><tr valign="top"><td align="left" valign="top">--bgpixmap, -b</td><td align="left" valign="top">image filename</td><td align="left" valign="top">Specify a tiled background for the panel</td></tr><tr valign="top"><td align="left" valign="top">--bgtrans, -bt</td><td align="left" valign="top">'yes'|transparency
		  percentage</td><td align="left" valign="top">

		  Specify the panel 'psuedo' transparency. For this to work you
		  need either matchbox-desktop running, or a program that sets the root
		  window pixmap and exports it Pixmap ID ( matchbox-desktop will
		  set this ).

		</td></tr></tbody></table></div></div><p><br class="table-break">

      </p><p>

	Its possible for matchbox-panel to be reparented in main
	application window titlebars with the '--titlebar' switch. For
	this to work, the Matchbox WM theme.xml file must define an area
	in the main window frame for the panel via a &lt;panel&gt; tag.

      </p><p>

	Also in this mode, the switches --size, --orientation, --bgtrans
	and --use-flip will have no effect.

      </p><p>

	Some examples of panel usage ;

      </p><p>
	A transparent 60 pixel wide side panel

      </p><p>

	<strong class="userinput"><code>
	  matchbox-panel --size 60 --orientation east --bgtrans yes &amp;
	</code></strong>

      </p><p>

	Running 2 panels at the top and bottom of the display

      </p><p>

	<strong class="userinput"><code>
	  matchbox-panel --orientation north &amp; matchbox-panel --id 2 --orientation south &amp;
	</code></strong>

      </p><p>

	An 'embedded titlebar' clock panel with no sessioning and no menu.

      </p><p>

	<strong class="userinput"><code>
	  matchbox-panel --titlebar --no-menu --no-session --default-apps minitime &amp;
	</code></strong>

      </p><p>

	The panel is fully themeable and will follow the current window
	manager theme.  Refer to the <a class="ulink" href="themes/index.html" target="_top">Matchbox Themeing-Howto</a> for more
	infomation.

      </p><p>

	Setting a background option on the command line will override any
	external theme settings having an effect of the panel background.

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="panelapps"></a>Panel Applications</h3></div></div></div><p>

	The matchbox-panel package includes a number of simple panel
	apps. All of which understand the following options;
	
      </p><div class="table"><a name="id1357"></a><p class="title"><b>Table 3. General Panel App command line options</b></p><div class="table-contents"><table class="table" summary="General Panel App command line options" border="1"><colgroup><col><col><col></colgroup><thead><tr valign="top"><th align="left" valign="top">Command Line Switch</th><th align="left" valign="top">Value
		Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr valign="top"><td align="left" valign="top">--display, -d</td><td align="left" valign="top">string</td><td align="left" valign="top">X11 Display to connect to</td></tr><tr valign="top"><td align="left" valign="top">--offset, -o</td><td align="left" valign="top">integer</td><td align="left" valign="top">
		
		Specify the number of pixels to position the app from
		the trays origin. Note its unlikely many trays will
		allow free positioning. The matchbox panel uses
		positive/negative offset values to determine what side
		of the tray the app is stacked. Negative values will
		stack the app at the beginning of the panel, anything
		else will stack from the end.
		
	      </td></tr><tr valign="top"><td align="left" valign="top">--no-session, -ns</td><td align="left" valign="top">na</td><td align="left" valign="top">
		
		Stops the panel from storing the application in its session file.

	      </td></tr></tbody></table></div></div><br class="table-break"><p>

	Panel applets also honor the <code class="envar">SYSTEM_TRAY_ID</code> environmental
	var used to specify the panel ID to dock with.

	</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
	    <a class="ulink" href="http://projects.o-hand.com/matchbox/sources/matchbox-panel-manager/" target="_top">matchbox-panel-manager</a>
	    is a GTK based applications for managing the order of
	    panel applets.  </p></div><p>

      </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1343"></a>mb-applet-menu-launcher</h4></div></div></div><p>

	  A menu based application launcher. Reads .desktop files found in
	  <code class="filename">(install prefix)/share/applications/</code> ( and <code class="filename">~/.applications</code> ).

	</p><p>

	  The menu structure is defined by .directory files found in
	  <code class="filename">(install prefix)/share/matchbox/vfolders</code> ( See the section on <a class="ulink" href="mbdesktop.html" target="_top">matchbox-desktop</a>
 for
	  more info ).

	</p><p>

	  mb-applet-menu-launcher reads theme settings from the theme.desktop
	  file as the panel.

	</p><p>

	  mb-applet-menu-launcher will also participate in single instance /
	  startup notification protocols. Just like the window manager keyboard
	  shortcuts.

	</p><p>

          </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
	      Menu entrys from Debian style <code class="filename">/usr/lib/menu</code> entry's will also be used
	      if the <code class="envar">MB_USE_DEB_MENUS</code> environmental variable is set.

	    </p></div><p>
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1344"></a>mb-applet-launcher </h4></div></div></div><p>
	  mb-applet-launcher can be used to create simple panel launchers. Launch via;

	</p><p>

	    <strong class="userinput"><code>mb-applet-launcher [options..]  &lt;xpm|png filename&gt;  &lt;command&gt; ]</code></strong>

	</p><p>
	or alternatively;
       </p><p>

             <strong class="userinput"><code>mb-applet-launcher --desktop &lt;.desktop file&gt;</code></strong> 

</p><p>

	  </p><div class="table"><a name="id1358"></a><p class="title"><b>Table 4. monolaunch command line options</b></p><div class="table-contents"><table class="table" summary="monolaunch command line options" border="1"><colgroup><col><col><col></colgroup><thead><tr valign="top"><th align="left" valign="top">Command Line Switch</th><th align="left" valign="top">Value Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr valign="top"><td align="left" valign="top">--title</td><td align="left" valign="top">str</td><td align="left" valign="top">
		    Set the panel apps title, defaults to command line string.
		  </td></tr><tr valign="top"><td align="left" valign="top">--kill, -k</td><td align="left" valign="top">na.</td><td align="left" valign="top">Toggle app by
		    destroying, rather than iconizing</td></tr><tr valign="top"><td align="left" valign="top">--respawn, -l</td><td align="left" valign="top">na.</td><td align="left" valign="top">Launch multiple
		    copies of the command line</td></tr><tr valign="top"><td align="left" valign="top">--no-animation,-na</td><td align="left" valign="top">na.</td><td align="left" valign="top">Disables
		    launch animation.</td></tr><tr valign="top"><td align="left" valign="top">--message, -m</td><td align="left" valign="top">na</td><td align="left" valign="top">Capture the
		    output of the command and send it as a message bubble to the dock when
		    the applet is clicked.</td></tr><tr valign="top"><td align="left" valign="top">--desktop</td><td align="left" valign="top">.desktop filename</td><td align="left" valign="top">Use
		    just this option to create a launcher from an existing .desktop
		    file.</td></tr></tbody></table></div></div><p><br class="table-break">

	</p><p>
          </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>

	      mb-applet-launcher can be togeather with
	      matchbox-remote to create window-manager controlling
	      buttons.

	    </p></div><p>
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1345"></a>mb-applet-clock</h4></div></div></div><p>
	  A simple clock.
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1346"></a>mb-applet-wireless</h4></div></div></div><p>
	  Monitors the strength of wireless connections.
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1347"></a>mb-applet-system-monitor</h4></div></div></div><p>
	  A memory / cpu usage monitor.
	</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id1348"></a>mb-applet-battery</h4></div></div></div><p>
	  A battery power level monitor - it requires libapm to build.
	</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mbdesktop"></a>Matchbox Desktop</h2></div></div></div><p>
      The desktop is kept at the very bottom of the window stack. It is
      provided primarily as an application launcher but can be extended for numerous other uses.

    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1349"></a>Usage And Configuration</h3></div></div></div><p>

 With an X Server running and the DISPLAY  environment variable set correctly, run matchbox desktop via;

      </p><p>
	  <strong class="userinput"><code>matchbox-desktop [options]</code></strong>
      </p><p>
	Options are;
      </p><p>
      </p><div class="table"><a name="id1359"></a><p class="title"><b>Table 5. Matchbox Desktop command line options</b></p><div class="table-contents"><table class="table" summary="Matchbox Desktop command line options" border="1"><colgroup><col><col><col></colgroup><thead><tr valign="top"><th align="left" valign="top">Command Line Switch</th><th align="left" valign="top">Value Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr valign="top"><td align="left" valign="top">-display</td><td align="left" valign="top"> </td><td align="left" valign="top">Display to connect to</td></tr><tr valign="top"><td align="left" valign="top">--bg</td><td align="left" valign="top">str</td><td align="left" valign="top">
		See below for details
	      </td></tr><tr valign="top"><td align="left" valign="top">--icon-size</td><td align="left" valign="top">   integer</td><td align="left" valign="top">Icon size</td></tr><tr valign="top"><td align="left" valign="top">--icon-padding</td><td align="left" valign="top">integer</td><td align="left" valign="top">Spacing in  pixels between icons</td></tr><tr valign="top"><td align="left" valign="top">--font</td><td align="left" valign="top">font definition,</td><td align="left" valign="top">Icon font, eg <span class="emphasis"><em>Sans Bold 10</em></span> or 
		<span class="emphasis"><em>Sans-10:bold</em></span>
	      </td></tr><tr valign="top"><td align="left" valign="top">--titlefont</td><td align="left" valign="top">font definition, </td><td align="left" valign="top">Title font</td></tr><tr valign="top"><td align="left" valign="top">--fontcol</td><td align="left" valign="top">color definition (#rrggbb)</td><td align="left" valign="top">Font color</td></tr><tr valign="top"><td align="left" valign="top">--no-outline</td><td align="left" valign="top"> </td><td align="left" valign="top">Text is drawn without outline</td></tr></tbody></table></div></div><p><br class="table-break">
      </p><p>

	The value used to define various background types should follow the following formats.

	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>img-stretched:[filename]</p></li><li class="listitem"><p>img-tiled:[filename]</p></li><li class="listitem"><p>img-centered:[filename]</p></li><li class="listitem"><p>col-solid:[color definition]</p></li><li class="listitem"><p>col-gradient-vertical:[start color],[end color]</p></li><li class="listitem"><p>col-gradient-horizontal:[start color],[end color]</p></li></ul></div><p>
	a color is specified as a color name or an rgb def in the form 'rgb:r/g/b' or '#RGB

      </p><p>

	The desktop is also fully themeable and will follow the current window
	manager theme.  Refer to the <a class="ulink" href="themes/index.html" target="_top">Matchbox
	  Themeing-Howto</a> for more information.

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1350"></a>Plugin Modules</h3></div></div></div><p>
	matchbox-desktop uses dynamically loadable modules to populate itself with entry's. 
      </p><p>
	Matchbox comes with 3 modules. A main application launcher which uses
	.desktop files, a simple tasks manager and a simple
	file browser.
      </p><p>
	What modules are used are set in  <code class="filename">(install prefix)/lib/matchbox/mbdesktop_modules</code> or set per user in <code class="filename">~/.matchbox/mbdesktop_modules</code>.
      </p><p>

	Its quite easy to write your own modules. Please refer to the desktop/modules directory for examples.

      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1351"></a>Adding Icons And Folders</h3></div></div></div><p>

	</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
	    The following is also true for mb-applet-menu-launcher.
	  </p></div><p>

      </p><p>

	The directory's <code class="filename">(install prefix)/share/applications</code> and <code class="filename">~/applications</code> are checked for the existence of 'INI style' .desktop files. A .desktop contains information about a program entry including its name, icon, executable string etc. 
      </p><p>

	A simple example is;
	</p><pre class="screen">
	  [Desktop Entry]
	  Name=Figment
	  Comment=An Outliner
	  Exec=figment
	  Icon=figment.png
	  Type=Application
	  Categories=Application;Core;
	</pre><p>
      </p><p>

	The Icon entry should not specify a path, just the filename of the required image located in <code class="filename">(install prefix)/share/pixmaps</code>. Locale based entrys can be added by appending a [contry_code] to the required key.

      </p><p>

	Information for what and how matchbox-desktop should create folders for the above entries is stored in <code class="filename">(install prefix)/share/matchbox/vfolder</code> and overridden by <code class="filename">~/.matchbox/vfolders/</code> .

      </p><p>

	The directory should contain a root.order file, a root.directory file,
	and optionally a number of other .directory files describing each folder.

      </p><p>

	The .directory files are just like .desktop files but describe a
	folder rather than a application. The root.order files specifys which
	and what order the directory files should be displayed in. 

      </p><p>

	A
	.directory file should have a 'match' key of which its value is used
	to compare against .desktop files Categories key value. This decides
	which folder a .desktop file ends up in. If the match key is set to 'fallback', any Categories that are not matched will end up here. 

      </p><p>

	The fill desktop entry spec can be found at <a class="ulink" href="http://www.freedesktop.org/standards/desktop-entry-spec/" target="_top">freedesktop.org</a>, also a nice introduction to .desktop files can be found at <a class="ulink" href="http://developers.sun.com/solaris/articles/integrating_gnome.html" target="_top">Suns developer site</a>. Note Matchbox currently supports only the 'core' of the specification. 

      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="help"></a>Obtaining Further Help</h2></div></div></div><p>
      For further help please visit the <a class="ulink" href="http://projects.o-hand.com/matchbox" target="_top">Matchbox
      Project Web page</a>, subscribe to the <a class="ulink" href="http://www.handhelds.org/mailman/listinfo/matchbox" target="_top">mailing list</a> or pop into the #matchbox IRC channel on <a class="ulink" href="irc://irc.freenode.org/#matchbox" target="_top">freenode</a>.
    </p><p>
      Please send feature requests and bug
      reports to the <a class="ulink" href="http://bugzilla.openedhand.com" target="_top">Matchbox
	bug tracking database</a>.
    </p><p>
      For paid  support, consulting and custom development please visit <a class="ulink" href="http://o-hand.com" target="_top">OpenedHand</a>.

</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="authors"></a>Authors</h2></div></div></div><p>
      Matchbox was primarily written by Matthew Allum. See individual package AUTHORS files for other contributors.
      (<code class="email">&lt;<a class="email" href="mailto:mallum@openedhand.com">mallum@openedhand.com</a>&gt;</code>). To find more information about
      Matchbox, please visit the <a class="ulink" href="http://projects.o-hand.com/matchbox" target="_top">Matchbox Project Web
	page</a>.  
    </p><p>
      This manual was written by Matthew Allum
      (<code class="email">&lt;<a class="email" href="mailto:mallum@openedhand.com">mallum@openedhand.com</a>&gt;</code>). Please send all comments and
      suggestions regarding this manual to Matthew or report them in the bug tracker.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="license"></a>License</h2></div></div></div><p>
      This program is free software; you can redistribute it and/or
      modify it under the terms of the <em class="citetitle">GNU General Public
	License</em> as published by the Free Software Foundation;
      either version 2 of the License, or (at your option) any later
      version.
    </p><p>
      This program is distributed in the hope that it will be useful, but
      WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      <em class="citetitle">GNU General Public License</em> for more details.
    </p><p>
      A copy of the <em class="citetitle">GNU General Public License</em> is
      included as an appendix to the <em class="citetitle">GNOME Users
	Guide</em>.  You may also obtain a copy of the
      <em class="citetitle">GNU General Public License</em> from the Free
      Software Foundation by visiting <a class="ulink" href="http://www.fsf.org" target="_top">their Web site</a> or by writing to
      </p><div class="address"><p><br>
	Free Software Foundation, Inc.<br>
	<span class="street">59 Temple Place</span> - Suite 330<br>
	<span class="city">Boston</span>, <span class="state">MA</span> <span class="postcode">02111-1307</span><br>
	<span class="country">USA</span><br>
      </p></div><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="building"></a>Appendix I: Building Matchbox from source.</h2></div></div></div><p>
      Firstly its recommended if your not used to building software from
      source, you should check your distribution for pre built binary
      matchbox packages.
    </p><p>
      All Matchbox packages use GNU autotools and are configured and build
      by the usual;
    </p><p>
      </p><pre class="screen">                                                           
	% ./configure
	% make
	% sudo make install
      </pre><p>
    </p><p>                                                                     
      You can see the various compile time options for enabling extra
      features and dependencies by running. 
    </p><p>
      </p><pre class="screen">
	% ./configure --help
      </pre><p>
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1352"></a>Inter Dependencies</h3></div></div></div><p>
	Virtually all packages are dependant on libmatchbox. You should build
	and install libmatchbox first. All font and image  operations
	are provided to other matchbx packages via libmatchbox. Therefore the
	configure options you choose here ( such as Pango, JPEG support ) will
	affect dependant packages.
      </p><p>                                                                                
	Matchbox-window-manager can be built <span class="emphasis"><em>without</em></span> libmatchbox using the
	--enable-standalone options. It is highly recommeded you only do this
	is you intend to run <span class="emphasis"><em>only</em></span> the window manager with no bells and
	whistles such as themeing. This build option is intended mainly for
	platforms where resources are very low or you want a quick and
	dependency free window manager for testing on a new platform.
      </p><p>
	If you decide to install the matchbox-panel or matchbox-desktop
	packages you should install the matchbox-common package first. It
	contains icons and launcher configuration data shared by both the
	desktop and the panel menu launcher.
      </p><p>                                                                                
	If you encounter problems building, please report to the <a class="ulink" href="http://projects.o-hand.com/matchbox/mailinglist.shtml" target="_top">mailing list</a>
	for help.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1353"></a>Automated building</h3></div></div></div><p> 

	An
	automated build script is available to ease the build process.  This
	will build a fully featured matchbox environment including the window
	manager, desktop, panel and panel applications.
      </p><p>                                                                                
	Download <a class="ulink" href="http://projects.o-hand.com/matchbox/sources/utils/matchbox-autobuild.sh" target="_top">matchbox-autobuild.sh</a> script. Open in your favorite text editor, edit the
	variables at the top of the top and then run.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id1354"></a>Building from SVN</h3></div></div></div><p>                                                                                
	If you plan on building from SVN, then before you build;
      </p><p>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>autoconf --version must report 2.5 or later</p></li><li class="listitem"><p>  automake --version must report 1.7.x</p></li><li class="listitem"><p>  libtool --version must report 1.5 (available from <a class="ulink" href="http://ftp.club.cc.cmu.edu/\pub/gnu/libtool/libtool-1.5.tar.gz" target="_top">http://ftp.club.cc.cmu.edu/\pub/gnu/libtool/libtool-1.5.tar.gz</a> if your distribution doesn't have it)
	    </p></li><li class="listitem"><p>pkg-config --version must report 0.9.0 or later</p></li></ul></div><p>         
      </p><p>
      You will also need GConf2 Development packages and <a class="ulink" href="http://check.sf.net" target="_top">Check</a> installed ( These are <span class="emphasis"><em>only</em></span> needed if building from SVN, optional if building from release tarballs ).
      </p></div></div></div></body></html>
