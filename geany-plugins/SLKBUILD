#Packager: George Vlahavas <vlahavas~at~gmail~dot~com>
# Included in Slint by Didier Spaier didieratslintdotfr

pkgname=geany-plugins
pkgver=2.0
pkgrel=1slint
source=("http://plugins.geany.org/geany-plugins/geany-plugins-$pkgver.tar.bz2")
docs=("readme*" "install" "copying" "changelog" "authors" "news" "todo")
url=http://plugins.geany.org
options=("nosrcpack")
slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"geany-plugins (additional plugins for Geany)"
"Geany Plugins is a package of the plugins from the Geany site that"
"will enhance and extend Geany's capabilities.  Most of these plugins"
"were developed by various developers on GitHub."
)

numjobs=9
build() {
	cd $startdir/src/$pkgname-$pkgver
	LIBDIRSUFFIX="64"
	CFLAGS="$SLKCFLAGS" \
	CXXFLAGS="$SLKCFLAGS" \
	./configure \
		--prefix=/usr \
		--libdir=/usr/lib${LIBDIRSUFFIX} \
		--localstatedir=/var \
		--sysconfdir=/etc \
		--build=$arch-slackware-linux
	make -j $numjobs || return 1
	make install DESTDIR=$startdir/pkg
	find $PKG/usr/share/doc/geany-plugins -type f -exec rm '{}' ';'
	mkdir -p $PKG/usr/doc/${pkgname}-$pkgver
	cp -a $PKG/usr/share/doc/geany-plugins/* $PKG/usr/doc/${pkgname}-$pkgver
	rm -r $PKG/usr/share/doc
}
