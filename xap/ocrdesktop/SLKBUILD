# Packaged for Slint by Didier Saier <didier~at~slint~dot~fr>
# build deps: for README.html, asciidoc, convtags, source-highlight
# convtags is also provided in the current directory
# deps:
# python3
# tesseract
# tesseract-data
# python3-pillow
# python-atspi
# python-tesserwrap
# libwnck3
# gtk+3
# py3gobject
pkgname=ocrdesktop
pkgver=4.0
pkgrel=1slint
options=(nosrcpack)
slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"$pkgname (Convert the window or desktop to text with OCR technique)"
"The software enhance accessibility on the desktop to blind users" 
"It has been written by Chrys."
"Wiki: https://wiki.archlinux.org/index.php/Ocrdesktop"
"Repository on GitHub: https://github.com/chrys87/ocrdesktop"
)

source=(${pkgname}-${pkgver}.tar.gz)

docs=(TODO ChangeLog)

build() {
	cd $startdir
	mkdir -p $PKG/usr/bin $PKG/usr/man/man1 $PKG/usr/doc/${pkgname}-$pkgver
	./convtags da README README.asc
	asciidoctor -b html5 -o $PKG/usr/doc/${pkgname}-$pkgver/README.html README.asc
	rm README.asc
	cp $startdir/README $PKG/usr/doc/${pkgname}-$pkgver/
	cp $SRC/${pkgname}-${pkgver}/ocrdesktop $PKG/usr/bin
	cp $SRC/${pkgname}-${pkgver}/ocrdesktop.1.gz $PKG/usr/man/man1
}
