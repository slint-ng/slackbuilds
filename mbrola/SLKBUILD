# Maintainer: Didier Spaier <didier~at~slint~dot~fr>


pkgname=mbrola
pkgver=git6b15b8f
pkgrel=1slint
slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"$pkgname (speech synthesizer based on the concatenation of diphones)"
"It takes a list of phonemes as input, together with prosodic"
"information (duration of phonemes and a piecewise linear description"
"of pitch), and produces speech samples on 16 bits (linear), at the"
"sampling frequency of the diphone database used (it is therefore NOT a"
"Text-To-Speech (TTS)synthesizer, since it does not accept raw text as"
"input). This synthesizer is provided for free, for non commercial, non"
"military applications only."
"Home page: http://www.tcts.fpms.ac.be/synthesis/mbrola/"
)
# source archive: https://github.com/valdisvi/MBROLA
# To make the source tarball, run make-git-tarball.sh in this directory

docs=("README.Slint" "list_of_mbrola_voices")

source=("mbrola-git6b15b8f.tar.xz" "README.Slint" "list_of_mbrola_voices")

options=("nosrcpack")


build() {
	cd $SRC/${pkgname}-$pkgver
	mkdir -p $startdir/pkg/usr/doc/${pkgname}-$pkgver 
	mkdir -p $startdir/pkg/usr/bin
	cp LICENSE $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	pandoc -s README.md -o README.html
	cp README.html $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	cd Documentation
	cp documentation301.html $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	cp *.gif $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	cp rom_documentation.txt $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	cd LATEX
	texi2pdf -s -b doc2.tex -o $startdir/pkg/usr/doc/${pkgname}-$pkgver/doc2.pdf
	cp doc2.tex $startdir/pkg/usr/doc/${pkgname}-$pkgver/
	cd ../.. && make
	cp Bin/mbrola $startdir/pkg/usr/bin
}
