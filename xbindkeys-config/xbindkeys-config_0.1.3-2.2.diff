--- xbindkeys-config-0.1.3.orig/Makefile
+++ xbindkeys-config-0.1.3/Makefile
@@ -1,9 +1,9 @@
 # makefile crée par Laurent VUIBERT
 
-CC=	gcc -O3 -Wall
+CC=	gcc $(CFLAGS)
 STD=	_GNU_SOURCE
-GTK=	`gtk-config  --cflags --libs`
-GTK2=	`gtk-config  --cflags`
+GTK=	`pkg-config  --cflags --libs gtk+-2.0`
+GTK2=	`pkg-config  --cflags gtk+-2.0`
 OBJS=	xbindkeys_config.o menu.o middle.o speedc.o
 NOM=    xbindkeys_config
 
@@ -15,7 +15,7 @@
 all: main
 
 main: $(OBJS)
-	$(CC) $(GTK) $(OBJS) -o $(NOM)
+	$(CC) $(OBJS) $(GTK) -o $(NOM)
 
 clean:
 	rm -f *.o */*.o */*~ core $(NOM) *~
--- xbindkeys-config-0.1.3.orig/debian/changelog
+++ xbindkeys-config-0.1.3/debian/changelog
@@ -0,0 +1,75 @@
+xbindkeys-config (0.1.3-2.2) unstable; urgency=medium
+
+  * Non-maintainer upload.
+  * Build with -fcommon to workaround FTBFS with gcc 10.
+    (Closes: #957969)
+
+ -- Adrian Bunk <bunk@debian.org>  Sun, 07 Feb 2021 09:23:46 +0200
+
+xbindkeys-config (0.1.3-2.1) unstable; urgency=high
+
+  * Non-maintainer upload.
+  * Fix FTBFS with gcc-9. (Closes: #925862)
+
+ -- Boyuan Yang <byang@debian.org>  Fri, 17 Jan 2020 13:06:44 -0500
+
+xbindkeys-config (0.1.3-2) unstable; urgency=low
+
+  * Upload based *heavily* on work from Barry. Thanks!
+  * Bug fix: "Gtk1.2 about to be removed from Debian [includes patch]",
+    thanks to bdefreese@debian.org (Closes: #516204).
+  * Build with Gtk2.
+    + Makefile: Use pkg-config instead of gtk-config.
+    + Change use of gtk_text with gtk_text_view.
+  * Rebuild to pickup newer X libs. (Closes: #367527).
+  * Lintian fixes: (Closes: #399774).
+    + Update FSF address in debian/copyright.
+    + Remove punctuation from short description.
+    + Quote strings in menu file.
+    + Thanks to Matti PÃ¶llÃ¤ for the fixes.
+  * Version path to GPL license in copyright.
+  * Add appropriate copyright holder to debian/copyright.
+  * Replace use of pwd with $(CURDIR) in rules.
+  * Replace GTK with GTK+ in description.
+  * Fix hyphen used as minus and what-is entry in manpage.
+  * Make clean not ignore errors.
+  * Bump debhelper build-dep to >> 5.0.0.
+    + Move DH_COMPAT from rules to debian/compat and set to 5.
+  * Bump Standards Version to 3.8.0.
+    + Menu policy transition.
+  * Removed watchfile, to fix: "debian/watch fails to report
+    upstreams version", thanks to Raphael Geissert (Closes: #449787).
+
+ -- Joerg Jaspert <joerg@debian.org>  Sat, 21 Mar 2009 19:46:17 +0100
+
+xbindkeys-config (0.1.3-1) unstable; urgency=low
+
+  * New Upstream Release.
+
+ -- Joerg Jaspert <joerg@debian.org>  Sun,  8 Jun 2003 19:54:17 +0200
+
+xbindkeys-config (0.1.2-2) unstable; urgency=low
+
+  * Fix FTBFS with gcc-3.3 which doesnt like multi-line strings anymore.
+    (closes: #196464)
+
+ -- Joerg Jaspert <joerg@debian.org>  Sun,  8 Jun 2003 14:31:21 +0200
+
+xbindkeys-config (0.1.2-1) unstable; urgency=low
+
+  * New upstream release
+
+ -- Joerg Jaspert <joerg@debian.org>  Tue,  4 Jun 2002 22:35:17 +0200
+
+xbindkeys-config (0.1.1-1) unstable; urgency=low
+
+  * New upstream release (closes: #146131, 146213)
+
+ -- Joerg Jaspert <joerg@debian.org>  Wed,  8 May 2002 11:56:40 +0200
+
+xbindkeys-config (0.1.0-1) unstable; urgency=low
+
+  * Initial Release (closes: #145305)
+
+ -- Joerg Jaspert <joerg@debian.org>  Tue, 30 Apr 2002 20:04:38 +0200
+
--- xbindkeys-config-0.1.3.orig/debian/compat
+++ xbindkeys-config-0.1.3/debian/compat
@@ -0,0 +1 @@
+5
--- xbindkeys-config-0.1.3.orig/debian/control
+++ xbindkeys-config-0.1.3/debian/control
@@ -0,0 +1,12 @@
+Source: xbindkeys-config
+Section: x11
+Priority: optional
+Maintainer: Joerg Jaspert <joerg@debian.org>
+Build-Depends: debhelper (>> 5.0.0), libgtk2.0-dev
+Standards-Version: 3.8.0
+
+Package: xbindkeys-config
+Architecture: any
+Depends: ${shlibs:Depends}, xbindkeys
+Description: an easy to use gtk program for configuring Xbindkeys
+ GTK+ Configure program for xbindkeys.
--- xbindkeys-config-0.1.3.orig/debian/copyright
+++ xbindkeys-config-0.1.3/debian/copyright
@@ -0,0 +1,27 @@
+This package was debianized by Joerg Jaspert <joerg@debian.org> on
+Tue, 30 Apr 2002 19:59:37 +0200.
+
+It was downloaded from http://www.netchampagne.com/xbindkeys_config/
+
+Upstream Author: Laurent Vuibert <lapinator@gmx.fr>
+
+Copyright: Copyright (C) 2002 by Laurent VUIBERT <lapinator@gmx.fr>
+
+License:
+   This package is free software; you can redistribute it and/or modify
+   it under the terms of the GNU General Public License as published by
+   the Free Software Foundation; version 2 dated June, 1991.
+
+   This package is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+   GNU General Public License for more details.
+
+   You should have received a copy of the GNU General Public License
+   along with this package; if not, write to the Free Software
+   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+   02110-1301, USA.
+
+On Debian GNU/Linux systems, the complete text of the GNU General
+Public License can be found in `/usr/share/common-licenses/GPL-2'.
+
--- xbindkeys-config-0.1.3.orig/debian/dirs
+++ xbindkeys-config-0.1.3/debian/dirs
@@ -0,0 +1 @@
+usr/bin
--- xbindkeys-config-0.1.3.orig/debian/docs
+++ xbindkeys-config-0.1.3/debian/docs
@@ -0,0 +1,3 @@
+BUGS
+README
+TODO
--- xbindkeys-config-0.1.3.orig/debian/menu
+++ xbindkeys-config-0.1.3/debian/menu
@@ -0,0 +1,6 @@
+?package(xbindkeys-config):needs="X11" \
+		 	   section="Applications/System/Administration" \
+			   title="XBindKeys-config" \
+			   command="/usr/bin/xbindkeys-config" \
+			   hints="Keys,Bind,Config" \
+			   longtitle="XBindKeys-Config - GUI for XBindKeys Setup"
--- xbindkeys-config-0.1.3.orig/debian/rules
+++ xbindkeys-config-0.1.3/debian/rules
@@ -0,0 +1,67 @@
+#!/usr/bin/make -f
+#export DH_VERBOSE=1
+
+PACKAGE := xbindkeys-config
+
+t = $(CURDIR)/debian/$(PACKAGE)
+
+DEB_HOST_GNU_TYPE   ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
+DEB_BUILD_GNU_TYPE  ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
+
+CFLAGS = -Wall -g -fcommon
+
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+CFLAGS += -O0
+else
+CFLAGS += -O2
+endif
+
+build: build-stamp
+
+build-stamp:
+	dh_testdir
+
+	CFLAGS='$(CFLAGS)' $(MAKE)
+	touch build-stamp
+
+clean:
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp
+	$(MAKE) clean
+
+	dh_clean
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+	cp xbindkeys_config $(t)/usr/bin/xbindkeys-config
+
+
+
+# Build architecture-independent files here.
+binary-indep: build install
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build install
+	dh_testdir
+	dh_testroot
+	dh_installdocs
+	dh_installmenu
+	dh_installman debian/xbindkeys-config.1
+	dh_installchangelogs ChangeLog
+	dh_link
+	dh_strip
+	dh_compress
+	dh_fixperms
+	dh_installdeb
+	dh_shlibdeps
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install configure
--- xbindkeys-config-0.1.3.orig/debian/xbindkeys-config.1
+++ xbindkeys-config-0.1.3/debian/xbindkeys-config.1
@@ -0,0 +1,21 @@
+.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.27.
+.TH XBINDKEYS_CONFIG "1" "April 2002" "xbindkeys-config" "User Commands"
+.SH NAME
+xbindkeys-config \- GTK+ configuration tool for xbindkeys
+.SH "SYNOPSIS"
+xbindkeys-config 
+[\-\-file|\-f file]
+[\-\-help|\-h]
+[\-\-show|\-s]
+.TP
+\fB\-h\fR, \fB\-\-help\fR
+This Help
+.TP
+\fB\-f\fR, \fB\-\-file\fR
+Use an alternative rc file
+.TP
+\fB\-s\fR, \fB\-\-show\fR
+show only the rc file
+.SH AUTHOR
+This manual page was written by Joerg Jaspert <joerg@debian.org>,
+for the Debian GNU/Linux system (but may be used by others).
--- xbindkeys-config-0.1.3.orig/menu.c
+++ xbindkeys-config-0.1.3/menu.c
@@ -283,6 +283,8 @@
   GtkWidget *window;
   GtkWidget *text;
   GtkWidget *vbox;
+  GtkTextBuffer *textbuffer;
+  GtkTextIter iter;
   
   window = gtk_window_new( GTK_WINDOW_TOPLEVEL );
   gtk_window_set_title(GTK_WINDOW(window),
@@ -293,10 +295,13 @@
   text = gtk_label_new("\nManual\n");
   gtk_box_pack_start(GTK_BOX(vbox), text, FALSE, FALSE, 0);
   
-  text = gtk_text_new(NULL,NULL);
+/* BDD - FIXME */
+/*  text = gtk_text_new(NULL,NULL); */
+  text = gtk_text_view_new();
+  textbuffer = gtk_text_view_get_buffer (GTK_TEXT_VIEW (text));
+  gtk_text_buffer_get_iter_at_offset (textbuffer, &iter, 0);
   
-  
-  gtk_text_insert (GTK_TEXT(text), NULL, NULL, NULL,
+  gtk_text_buffer_insert (textbuffer, &iter, 
 		   MANUAL_TEXT, sizeof(MANUAL_TEXT)-1);
   gtk_box_pack_start(GTK_BOX(vbox), text, TRUE, TRUE, 0);
   gtk_widget_set_usize(text,300,250);
--- xbindkeys-config-0.1.3.orig/middle.c
+++ xbindkeys-config-0.1.3/middle.c
@@ -551,6 +551,8 @@
   GtkWidget *window;
   GtkWidget *text;
   GtkWidget *src;
+  GtkTextBuffer *textbuffer;
+  GtkTextIter iter;
   char line  [1024];
 
   unlink(TEMP_FILE); 
@@ -561,11 +563,13 @@
     gtk_window_set_title(GTK_WINDOW(window), "Generated File");
     src = gtk_scrolled_window_new ( NULL, NULL );
     gtk_widget_set_usize(src,500,400);
-    text = gtk_text_new (NULL, NULL);
+    text = gtk_text_view_new ();
+    textbuffer = gtk_text_view_get_buffer (GTK_TEXT_VIEW (text));
+    gtk_text_buffer_get_iter_at_offset (textbuffer, &iter, 0);
     gtk_container_add (GTK_CONTAINER(src),  text);
 
     while (fgets (line, sizeof(line), f))
-      gtk_text_insert (GTK_TEXT(text), NULL, NULL, NULL,
+      gtk_text_buffer_insert (textbuffer, &iter,
 		       line, strlen(line));
 
     gtk_container_add(GTK_CONTAINER(window),src);
@@ -610,6 +614,7 @@
   fprintf(f, "# m:xxx + c:xxx \n");
   fprintf(f, "# Shift+... \n\n\n\n\n");
 
+
   if(gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(Flag_NumLock)))
     fprintf(f,"keystate_numlock = enable\n");
   else 
--- xbindkeys-config-0.1.3.orig/xbindkeys_config.c
+++ xbindkeys-config-0.1.3/xbindkeys_config.c
@@ -95,7 +95,8 @@
      accel_group = gtk_accel_group_new();
      menu=xbindkeys_config_menu(accel_group);
      gtk_box_pack_start(GTK_BOX(vbox),menu,FALSE,FALSE,0);
-     gtk_accel_group_attach(accel_group, GTK_OBJECT(window));
+/* BDD - FIXME - Don't need this? */
+/*     gtk_accel_group_attach(accel_group, GTK_OBJECT(window)); */
      
      middle= xbindkeys_config_middle();
      gtk_box_pack_start(GTK_BOX(vbox),middle,TRUE,TRUE,0);
