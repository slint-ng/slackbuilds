#Packager: George Vlahavas <vlahavas~at~gmail~dot~com>
# Included in Slint by Didier Spaier didieratslintdotfr
pkgname=geany-themes
pkgver=20231113
pkgrel=slint
commit=b4b0ba9
arch=noarch
docs=("readme.html" "install" "copying" "changelog" "authors" "news" "todo" "adding-a-theme.md" "making-a-release.md")
url=https://github.com/geany/geany-themes
options=('nosrcpack')

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"geany-themes (A collection of color schemes for Geany)"
"Geany-themes is a collection of color schemes for the Geany"
"IDE/editor, either written originally by the Geany community or ported"
"from color schemes for other editors."
)


build() {
	git clone https://github.com/geany/geany-themes.git
	cd geany-themes
	git checkout $commit
	pandoc -f gfm -t html5 -o README.html README.md
	mkdir -p $PKG/usr/share/geany/colorschemes
	for SCHEME in $(ls colorschemes/*.conf); do
		BNAME=$(basename "$SCHEME")
		cp "$SCHEME" "$PKG/usr/share/geany/colorschemes"
	done
	# Remove themes that aren't licensed, as does Solus
	for i in fluffy.conf monokai.conf railcasts2.conf tango-dark.conf zenburn.conf; do
		rm $PKG/usr/share/geany/colorschemes/$i || exit 1
	done
} 
