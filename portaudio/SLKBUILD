#Maintainer: Thorsten Muehlfelder <thenktor(at)gmx.de>
# Included in Slint by Didier Spaier didieratslintdotfr

pkgname=portaudio
pkgver=19.7.0
pkgrel=1slint
source=(https://github.com/PortAudio/portaudio/archive/refs/tags/v19.7.0.tar.gz)
docs=("README.md" "LICENSE.txt" "README.configure.txt")
options=("nosrcpack")
url=http://www.portaudio.com

# Jack should be installed before running me to provide Jack support.
# Then rebuild jack to include portaudio support.

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"$pkgname (Portable cross-platform Audio API)"
"$pkgname is a free, cross platform, open-source, audio I/O"
"library.  It lets you write simple audio programs in 'C'"
"that will compile and run on many platforms including Windows,"
"Macintosh (8,9,X), Unix (OSS), SGI, and BeOS. PortAudio is"
"intended to promote the exchange of audio synthesis software"
"between developers on different platforms."
)


build() {
	cd $startdir/src/${pkgname}-$pkgver
	./configure \
	--prefix=/usr  \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--localstatedir=/var \
	--sysconfdir=/etc \
	--enable-cxx \
	--disable-static
	make -j $numjobs || return 1
	make install DESTDIR=$startdir/pkg
}
