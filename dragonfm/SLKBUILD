# Maintainer: Storm Dragon <storm_dragon@linux-a11y.org>
# Maintainer: Chrys <chrys@linux-a11y.org>
# Included in Slint by Didier Spaier didieratslintdotfr
_gitname='dragonfm'
pkgname="dragonfm"
pkgver=gitd0505a625
pkgrel=1slint
epoch=1
slackdesc=(\
"$pkgname (A screenreader optimized, flexible command line filemanager)"
"This commandline Filemanager is special made for accessibility and"
"screenreader needs. to avoid stuff like highlight tracking, multisplit"
"windows and stuff with confusing information (like overlay menus)."
"That's why it is designed how it looks lilke. dragonFM is plugin"
"driven and fully configurable"
)
url="https://www.patreon.com/posts/64904217"
license=('LGPL')
depends=('ncurses' 'python-inotify-simple' 'python' 'python-sh')
optdepends=('atool: compression support'
  'mutt: send as e-mail support'
  'mpv: audio und video support for TTY'
  'w3m: HTML support'
  'xdg-utils: xdg-open support'
  'magic-wormhole: wormhole support')
makedepends=('git' 'python-setuptools')
backup=('etc/dragonfm/settings/settings.conf')
#source=("git+https://github.com/chrys87/${_gitname}.git")
md5sums=('SKIP')
docs=(README LICENSE)

pkgver()
{
  git clone https://github.com/chrys87/dragonFM.git
  cd "$srcdir/$_gitname"
  printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

build()
{
  git clone https://github.com/chrys87/dragonFM.git
  cd dragonFM || exit 1
  git checkout d0505a625
  python3 setup.py install --force-settings --root="$PKG" --optimize=1
}

# vim: set ts=2 sw=2 et: 
