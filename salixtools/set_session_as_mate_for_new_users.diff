diff -ru salixtools-1.13.8/usersetup/usersetup salixtools-1.13.8.new/usersetup/usersetup
--- salixtools-1.13.8/usersetup/usersetup	2023-08-09 11:29:16.000000000 +0200
+++ salixtools-1.13.8.new/usersetup/usersetup	2024-04-16 20:06:49.057198766 +0200
@@ -295,6 +295,12 @@
         GROUPS="${useraddmembership}"
       fi
       useradd -s $defaultshell -g $defaultgroup -m -k $skeleton -G $GROUPS "$user" 2>/dev/null
+      if grep -q "NAME=Slint" /etc/os-release && grep -q "VERSION_ID=15" /etc/os-release && [ -x /usr/bin/session-chooser ]; then
+        cp /etc/X11/xinit/xinitrc.mate /home/"$user"/.xinitrc
+        echo '[Desktop]' > /home/"$user"/.dmrc
+        echo "Session=mate" >> /home/"$user"/.dmrc
+        chown $user: /home/"user"/.xinitrc /home/"$user"/.dmrc
+      fi
     fi
   fi
   current=""
@@ -633,6 +639,13 @@
                 setpw
                 getsysteminfo
                 modifyuser
+                homedir="$(grep -e "^$user:.*$" $pwfile | cut -d : -f 6 )"
+                if grep -q "NAME=Slint" /etc/os-release && grep -q "VERSION_ID=15" /etc/os-release && [ -x /usr/bin/session-chooser ]; then
+                  cp /etc/X11/xinit/xinitrc.mate "$homedir"/.xinitrc
+                  echo '[Desktop]' > "$homedir"/.dmrc
+                  echo "Session=mate" >> "$homedir"/.dmrc
+                  chown $user: "$homedir"/.xinitrc "homedir"/.dmrc
+                fi
               else
                 $dialog --title "`eval_gettext 'Warning'`" --msgbox "\n $message \n" 0 0
               fi
