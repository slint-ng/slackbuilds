# Maintainer: David Runge <dvzrv@archlinux.org>
# Contributor: Tobias Powalowski <tpowa@archlinux.org>
# Contributor: Murtuza Akhtari <inxsible at gmail dot com>
# Contributor: Keshav Amburay <(the ddoott ridikulus ddoott rat) (aatt) (gemmaeiil) (ddoott) (ccoomm)>

# Included in Slint by Didier Spaier didieratslintdotfr

pkgname=efibootmgr
_commit=712aeb81311de28a3fcfea7465dcb93743f07a53  # refs/tags/18
export _commit
pkgver=18
pkgrel=1
slackdesc="(tool to modify UEFI boot entries)"
url="https://github.com/rhboot/efibootmgr"
license=(GPL2)
depends=(glibc popt)
makedepends=(efivar git)
makedepends=(efivar git)
sha512sums=('SKIP')
validpgpkeys=(
  'B00B48BC731AA8840FED9FB0EED266B70F4FEF10'  # Peter Jones <pjones@redhat.com>
  '039A9CEA19DE9508C36875AA2532F9176A95A442'  # Robbie Harwood (work) <rharwood@redhat.com>
)
docs=("TODO" "README" "COPYING" "AUTHORS")
build() {
  git clone https://github.com/rhboot/efibootmgr
  cd efibootmgr
  git checkout $_commit
  export CFLAGS="$SLKCFLAGS -Wno-pointer-sign"
  EFIDIR=/boot/efi
  export EFIDIR
  make
  make install DESTDIR="$PKG"
}
