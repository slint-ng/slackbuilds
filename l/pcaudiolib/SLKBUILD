		#Packager: Didier Spaier <didier~at~slint~dot~fr>

pkgname=pcaudiolib
pkgver=git478bb69
pkgrel=1slint
docs=("readme.html" "copying" "changelog.html" "authors" )
options=('noautodotnew' "nosrcpack")

slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"$pkgname (Portable C Audio Library)"
"The Portable C Audio Library (pcaudiolib) provides a C API to"
"different audio devices."
)



build() {
	git clone https://github.com/espeak-ng/pcaudiolib.git
	cd pcaudiolib
	git checkout 478bb69
	pandoc README.md -o README.html
	pandoc CHANGELOG.md -o CHANGELOG.html
	mkdir -p $startdir/pkg/usr/doc/${pkgname}-$pkgver/TPCircularBuffer
	pandoc src/TPCircularBuffer/README.markdown -o \
	$startdir/pkg/usr/doc/${pkgname}-$pkgver/TPCircularBuffer/README.html
	./autogen.sh
	./configure \
		--prefix=/usr \
		--libdir=/usr/lib${LIBDIRSUFFIX} \
		--localstatedir=/var \
		--sysconfdir=/etc \
		--disable-static \
		--with-alsa \
		--without-pulseaudio \
		--build=$arch-slackware-linux
	make
	make install DESTDIR=$PKG
	rm -f $PKG/usr/lib64/*.la
}
