#Packager: George Vlahavas <vlahavas~at~gmail~dot~com>
# Included in Slint by Didier Spaier didieratslintdotfr

pkgname=appstream-glib
pkgver=0.8.2
_pkgver=`echo $pkgver | tr '.' '_'`
pkgrel=1slint
source=("https://github.com/hughsie/appstream-glib/archive/refs/tags/appstream_glib_${_pkgver}.tar.gz")
docs=("README.md" "install" "copying" "changelog" "authors" "news" "todo")
#url=https://github.com/hughsie/appstream-glib
numjobs=9
slackdesc=\
(
#|-----handy-ruler------------------------------------------------------|
"appstream-glib (library for reading and writing AppStream metadata)"
"This library provides GObjects and helper methods to make it easy to"
"read and write AppStream metadata. It also provides a simple DOM"
"implementation that makes it easy to edit nodes and convert to and"
"from the standardized XML representation. It also supports reading of"
"Debian-style DEP-11 metadata."
)


build() {
	cd $startdir/src/appstream-glib-appstream_glib_${_pkgver}
	meson setup \
		--prefix=/usr \
		--libdir=/usr/lib${LIBDIRSUFFIX} \
		--infodir=/usr/info \
		--localstatedir=/var \
		--mandir=/usr/man \
		--sysconfdir=/etc \
		--strip \
		-Dstemmer=false \
		build
	meson compile -C build -j $numjobs
	meson install -C build --destdir $startdir/pkg/	
} 
